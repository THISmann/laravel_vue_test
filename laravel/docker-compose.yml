services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: daily-grow
    restart: unless-stopped
    ports:
      - "8000:8000"
    environment:
      APP_NAME: "Daily Grow"
      APP_ENV: local
      APP_DEBUG: "true"
      APP_URL: http://localhost:8000
      DB_CONNECTION: sqlite
      DB_DATABASE: /var/www/html/database/database.sqlite
      SESSION_DRIVER: database
      SESSION_SECURE_COOKIE: "false"
      SESSION_SAME_SITE: lax
      CACHE_STORE: database
      QUEUE_CONNECTION: sync
      # Optional: create .env from .env.example and add APP_KEY for persistent sessions across restarts
    volumes:
      - dbdata:/var/www/html/database
      - storage_logs:/var/www/html/storage/logs
    stdin_open: true
    tty: true

volumes:
  dbdata: {}
  storage_logs: {}
